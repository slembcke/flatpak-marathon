name: alephone
# buildsystem: autotools
config-opts:
  - --with-boost-libdir=/app/lib
  - --with-sdl_image
  - --with-ffmpeg
  - --with-mad
  - --with-sndfile
  - --with-vorbis
  # Disabled for now. SMPEG 2 isn't compatible, and 1.x isn't trivial to build since it's ancient.
  # - --with-smpeg
  - --with-speex
  - --with-alsa
  - --with-curl
  - --with-zzip
  - --with-png
  - --with-miniupnpc
sources:
  - type: archive
    url: https://github.com/Aleph-One-Marathon/alephone/releases/download/release-20231125/AlephOne-20231125.tar.bz2
    sha256: a911e6b64ccf8ba3ca780ce830f7526dba228a51be2f67c25ef5d7bb7bc8721b
# TODO is there any point including icons/man/mime when it's not a standalone engine build?
cleanup: [/lib/debug, /share/icons, /share/man, /share/mime]
